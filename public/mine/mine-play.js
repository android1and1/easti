// Generated by CoffeeScript 2.3.2
(function() {
  $(function() {
    $('#page-width').text('page  width= ' + $('body').width() + ' px.');
    $('button#switch').on('click', function(evt) {
      var left, right;
      left = $('.left');
      right = $('.right');
      if (left.hasClass('hidden')) {
        // right animate first ,then left.
        return right.animate({
          width: '10%'
        }, 300, function() {
          return left.removeClass('hidden').animate({
            width: '85%'
          }, 700); // no .hidden
        });
      } else {
        /*
        left.removeClass 'hidden'
        .animate {width:'85%'},600,()->
        #right.width '10%'
         * give some animation.
        right.animate {width:'10%'},400
         */
        return left.animate({
          width: '0%'
        }, 600, function() {
          return right.animate({
            width: '95%'
          }, 150, function() {
            return left.addClass('hidden');
          });
        });
      }
    });
    return $('#userLogout').on('click', function(e) {
      var that;
      that = this;
      e.preventDefault();
      e.stopPropagation();
      return $.ajax({
        url: '/user/logout',
        type: 'PUT',
        dataType: 'json'
      }).done(function(json) {
        var theli;
        alert(json.status);
        // disable this link.
        theli = $(that).parent();
        return theli.addClass('disabled');
      }).fail(function(xhr, status, thrown) {
        console.log(status);
        return console.log(thrown);
      });
    });
  });

}).call(this);
