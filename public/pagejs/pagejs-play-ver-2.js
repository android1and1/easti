// Generated by CoffeeScript 2.3.2
(function() {
  $(function() {
    return $('button#commit').on('click', function(e) {
      var dataArray, fd, i, len, peer, xhr;
      xhr = new XMLHttpRequest;
      xhr.open('POST', '/play-version-xhr2');
      xhr.responseType = 'json';
      xhr.onload = function(e) {
        var a, json, results;
        json = this.response;
        console.log('Server Said', json);
        results = [];
        for (a in json) {
          results.push(alert(a + ':' + json[a]));
        }
        return results;
      };
      // collect data
      fd = new FormData;
      dataArray = $('form').serializeArray();
      for (i = 0, len = dataArray.length; i < len; i++) {
        peer = dataArray[i];
        console.log(peer.name, peer.value);
        fd.append(peer.name, peer.value);
      }
      return xhr.send(fd);
    });
  });

}).call(this);
