// Generated by CoffeeScript 2.3.1
(function() {
  // neighborhood's car registing,journal,matching. as a proticle for learning nohm.
  // e301,2018-12-19
  var NeighborCar, NohmModel, nohm;

  nohm = require('nohm');

  NohmModel = nohm.NohmModel;

  NeighborCar = (function() {
    class NeighborCar extends NohmModel {
      static getDefinitions() {
        return this.definitions;
      }

    };

    NeighborCar.modelName = 'neighborCar';

    NeighborCar.version = '1.0';

    NeighborCar.idGenerator = 'increment';

    NeighborCar.definitions = {
      // fields - licence_number,brand,color,where_seen,vehicle_model,whatistime,memo
      licence_number: {
        type: 'string',
        unique: true,
        validations: ['notEmpty']
      },
      brand: {
        type: 'string',
        index: true,
        validations: ['notEmpty']
      },
      color: {
        type: 'string',
        index: true
      },
      where_seen: {
        type: 'string'
      },
      vehicle_model: {
        type: 'string',
        index: true,
        validations: ['notEmpty']
      },
      whatistime: {
        type: 'timestamp',
        defaultValue: 'new Date()'
      },
      memo: {
        defaultValue: {
          times: 1
        },
        type: function(newv, key, oldv) {
          var times, ts;
          times = oldv.times;
          ts = new Date;
          oldv['memo' + times] = newv;
          return times++;
        }
      }
    };

    return NeighborCar;

  }).call(this);

  module.exports = NeighborCar;

}).call(this);
